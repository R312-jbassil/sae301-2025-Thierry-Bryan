---
// filepath: src/pages/index.astro
import Layout from "../layouts/Layout.astro";
import Button from "../components/ui/Button.astro";
---

<Layout title="TaVue - Accueil">
  <div class="min-h-screen bg-base-100">
    <!-- Hero Section -->
    <section class="hero-french py-20">
      <div class="container mx-auto px-6 text-center">
        <h1 class="text-6xl mb-6">TaVue</h1>
        <p class="text-xl max-w-2xl mx-auto mb-8">
          Cr√©ez vos lunettes sur-mesure avec notre configurateur fran√ßais
          moderne
        </p>

        <!-- Divider fran√ßais -->
        <div class="divider-french w-32 mx-auto mb-8"></div>

        <!-- Boutons avec notre composant fran√ßais -->
        <div
          class="flex flex-col sm:flex-row gap-4 justify-center items-center"
        >
          <Button variant="fixed"> Commencer la configuration </Button>
          <Button variant="flexible"> D√©couvrir nos mod√®les </Button>
        </div>
      </div>
    </section>

    <!-- Cards de d√©monstration -->
    <section class="py-16 px-6">
      <div class="container mx-auto">
        <h2 class="text-center mb-12">Nos Services</h2>

        <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          <!-- Card 1 -->
          <div class="card-french">
            <div class="card-body items-center text-center">
              <h3 class="card-title mb-4">Configuration 3D</h3>
              <p>
                Visualisez vos lunettes en temps r√©el avec notre configurateur
                avanc√©
              </p>
              <div class="card-actions justify-end mt-4">
                <Button variant="fixed">D√©couvrir</Button>
              </div>
            </div>
          </div>

          <!-- Card 2 -->
          <div class="card-french">
            <div class="card-body items-center text-center">
              <h3 class="card-title mb-4">Mat√©riaux Premium</h3>
              <p>S√©lectionnez parmi notre gamme de mat√©riaux haut de gamme</p>
              <div class="card-actions justify-end mt-4">
                <Button variant="flexible">Explorer</Button>
              </div>
            </div>
          </div>

          <!-- Card 3 -->
          <div class="card-french">
            <div class="card-body items-center text-center">
              <h3 class="card-title mb-4">Livraison Rapide</h3>
              <p>Recevez vos lunettes personnalis√©es en quelques jours</p>
              <div class="card-actions justify-end mt-4">
                <Button variant="fixed">Commander</Button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Test de typographie -->
    <section class="bg-base-200 py-16 px-6">
      <div class="container mx-auto text-center max-w-4xl">
        <h2 class="mb-6 text-rouge">√âl√©gance Fran√ßaise</h2>
        <p class="text-lg leading-relaxed">
          Notre savoir-faire fran√ßais au service de votre style. D√©couvrez
          l'alliance parfaite entre tradition artisanale et innovation
          technologique pour cr√©er des lunettes uniques qui vous ressemblent.
        </p>
      </div>
    </section>
  </div>
</Layout>

<script>
  // G√©rer les redirections de v√©rification d'email sur la page d'accueil
  document.addEventListener("DOMContentLoaded", () => {
    // V√©rifier si l'URL contient un hash de v√©rification
    if (
      window.location.hash &&
      window.location.hash.includes("#/auth/confirm-verification/")
    ) {
      const tokenMatch = window.location.hash.match(
        /#\/auth\/confirm-verification\/(.+)/
      );

      if (tokenMatch) {
        const token = tokenMatch[1];
        console.log("üîÑ Redirection depuis accueil vers v√©rification:", token);

        // Rediriger vers notre page de v√©rification
        window.location.href = `/auth/confirm-verification/${token}`;
      }
    }
  });
</script>
